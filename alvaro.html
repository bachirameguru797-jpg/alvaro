<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Untuk Kamu yang Keren Minggu Ini — Sky Party 💙✨</title>
<style>
/* ========== RESET & TOKENS ========== */
:root{
  --bg-1:#041226;        /* biru gelap dasar */
  --bg-2:#0a1f3f;        /* gradasi */
  --bg-3:#123b73;        /* gradasi */
  --glow:#66ccff;        /* biru neon lembut */
  --glow2:#b3e5ff;
  --accent:#4dd2ff;      /* biru muda aksen */
  --accent-2:#ffd166;    /* kuning pop */
  --pink:#ff7ad1;        /* fun magenta */
  --mint:#7ef5d8;
  --white:#ffffff;
  --panel:#0b2347cc;     /* panel transparan */
  --shadow:0 12px 40px rgba(4,18,38,.45);
  --radius-xl:28px;
  --radius-lg:18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:#e7f4ff;
  font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background:
    radial-gradient(1200px 800px at 70% -10%, #1a3c6d66 0%, #00000000 60%),
    linear-gradient(180deg, var(--bg-3), var(--bg-2) 45%, var(--bg-1) 100%);
  overflow-x:hidden;
}

/* ========== STARFIELD & SKY FX ========== */
.sky{
  position:fixed; inset:0; z-index:-2; overflow:hidden;
}
.twinkle{
  position:absolute; inset:0;
  background:
    radial-gradient(2px 2px at 10% 20%, #ffffffcc 60%, transparent 65%) repeat,
    radial-gradient(1.5px 1.5px at 40% 40%, #ffffffa8 60%, transparent 65%) repeat,
    radial-gradient(1.5px 1.5px at 70% 30%, #ffffffa8 60%, transparent 65%) repeat,
    radial-gradient(2px 2px at 85% 60%, #ffffffcc 60%, transparent 65%) repeat;
  background-size: 140px 180px, 200px 200px, 180px 200px, 220px 260px;
  animation: twinkle 8s linear infinite;
  opacity:.9;
  filter: drop-shadow(0 0 6px #ffffff70);
}
@keyframes twinkle{
  0%,100%{opacity:.8} 50%{opacity:1}
}
/* shooting stars */
.shoot{
  position:absolute; width:3px; height:3px; border-radius:50%;
  background:linear-gradient(90deg, #fff, #ffffff00);
  box-shadow:0 0 10px #fff, 0 0 18px #fff;
  animation: shoot 2.4s linear infinite;
  opacity:.8;
}
.shoot.s1{top:12%; left:-10%; animation-delay:0s}
.shoot.s2{top:38%; left:-12%; animation-delay:1.1s}
.shoot.s3{top:64%; left:-8%;  animation-delay:2s}
@keyframes shoot{
  0%{transform: translate3d(0,0,0); opacity:0}
  10%{opacity:1}
  100%{transform: translate3d(120vw, -30vh, 0); opacity:0}
}

/* ========== CLOUDS PARALLAX ========== */
.clouds{ position:fixed; inset:0; z-index:-1; pointer-events:none; }
.cloud{
  position:absolute; filter: drop-shadow(0 10px 20px rgba(0,0,0,.25));
  opacity:.4; animation: drift linear infinite;
}
.cloud svg{display:block; height:auto}
@keyframes drift{
  0%{ transform: translateX(-40vw) translateY(var(--y)) scale(var(--s)) }
  100%{ transform: translateX(120vw) translateY(var(--y)) scale(var(--s)) }
}
/* different lanes */
.cloud.c1{ --y:12vh; --s:1.1; animation-duration: 60s; top:0; left: -30vw }
.cloud.c2{ --y:32vh; --s:0.9; animation-duration: 75s; top:0; left: -60vw; opacity:.35}
.cloud.c3{ --y:58vh; --s:1.2; animation-duration: 80s; top:0; left: -50vw; opacity:.45}
.cloud.c4{ --y:76vh; --s:0.8; animation-duration: 95s; top:0; left: -40vw; opacity:.3}

/* ========== HEADER PANEL ========== */
.header{
  position:sticky; top:0; z-index:5;
  padding:18px clamp(14px, 3vw, 28px);
}
.ribbon{
  width:min(1100px, 96vw);
  margin:0 auto;
  background: linear-gradient(180deg, #0f2f62cc, #0a244dcc);
  backdrop-filter: blur(6px);
  border:1px solid #1b4f93;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow);
  padding:16px 18px;
  display:grid; gap:8px; justify-items:center;
}
.title{
  margin:6px 0 2px; text-align:center;
  font-size: clamp(26px, 4.8vw, 44px);
  letter-spacing:.6px; line-height:1.05;
  text-shadow: 0 2px 0 #001127, 0 10px 30px #001127aa, 0 0 18px #77d2ff30;
}
.badges{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.badge{
  padding:6px 10px; border-radius:999px; font-weight:700; font-size:.9rem;
  background:linear-gradient(90deg, #0f2f62, #174985);
  border:1px solid #235ea8;
  color:#cdeaff; box-shadow: inset 0 0 12px #1b4f93, 0 0 12px #1b4f9330;
}

/* ========== MAIN CARD WITH LAYOUT ========== */
.wrap{
  width:min(1200px, 96vw);
  margin:18px auto 80px;
  display:grid; gap:18px;
}
.card{
  background: linear-gradient(180deg, #0d2a56cc, #0b2246cc);
  border:1px solid #1b4f93;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow);
  padding: clamp(16px, 3vw, 28px);
  position:relative;
  overflow:hidden;
}
.card .glow{
  position:absolute; inset:-30%; background:
    radial-gradient(500px 260px at 85% -10%, #66ccff22 0%, #66ccff00 60%),
    radial-gradient(380px 220px at 10% 110%, #a1ffef11 0%, #a1ffef00 60%);
  pointer-events:none;
}
.grid{
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap: clamp(16px, 3vw, 32px);
  align-items:center;
}
@media (max-width:900px){ .grid{ grid-template-columns: 1fr; } }

/* ========== SCENE: ROCKET / UFO / PLANE SVG AREA ========== */
.scene{
  position:relative; min-height:360px;
  border-radius: var(--radius-lg);
  overflow:hidden; border:1px solid #1b4f93;
  background: linear-gradient(180deg, #061a35, #0b2a56);
}
.layer{ position:absolute; inset:0; }
.planet{
  position:absolute; width:180px; height:180px; top:16%; left:6%;
  background:
    radial-gradient(60px 60px at 30% 30%, #ffffff80 0%, #ffffff00 60%),
    radial-gradient(120px 120px at 60% 60%, #79e0ff 0%, #2aa6ff 60%);
  border-radius:50%;
  box-shadow: 0 0 30px #2aa6ff60, inset -10px -10px 40px #004d9555;
}
.rings{
  position:absolute; width:260px; height:260px; top:-8px; left:-40px;
  border-radius:50%;
  border:6px solid #b3e5ff55; filter: blur(0.3px);
  transform: rotate(25deg);
}

/* Rocket */
.rocket{
  position:absolute; left:58%; top:58%; width:120px; height:auto;
  transform-origin: center; animation: bob 3.2s ease-in-out infinite;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
}
@keyframes bob{ 0%,100%{ transform: translateY(-6px) rotate(-6deg) } 50%{ transform: translateY(6px) rotate(-2deg) } }

/* Plane (cute) */
.plane{
  position:absolute; left:12%; top:62%; width:140px;
  animation: flyAcross 18s linear infinite;
}
@keyframes flyAcross{
  0%{ transform: translateX(-40vw) translateY(-10px) rotate(0deg) }
  50%{ transform: translateX(20vw) translateY(8px) rotate(2deg) }
  100%{ transform: translateX(120vw) translateY(-6px) rotate(-2deg) }
}

/* UFO */
.ufo{
  position:absolute; right:6%; top:10%; width:120px;
  animation: wobble 4.6s ease-in-out infinite;
  filter: drop-shadow(0 8px 12px rgba(0,0,0,.35));
}
@keyframes wobble{ 0%,100%{ transform: translateY(0) rotate(0deg)} 50%{ transform: translateY(-8px) rotate(2deg)} }

/* Sparkling dust on scene */
.dust{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(2px 2px at 20% 40%, #fff 60%, transparent 65%) repeat,
    radial-gradient(1.6px 1.6px at 60% 60%, #fff 60%, transparent 65%) repeat,
    radial-gradient(1.8px 1.8px at 80% 20%, #fff 60%, transparent 65%) repeat;
  background-size: 180px 220px, 200px 180px, 240px 220px;
  opacity:.35; animation: twinkle 7s linear infinite;
}

/* ========== TEXT SIDE ========== */
.kid-panel{
  background: linear-gradient(180deg, #09234a, #0b2a56);
  border:1px solid #1b4f93; border-radius: var(--radius-lg);
  padding:18px; position:relative; overflow:hidden;
}
.kid-panel:before{
  content:""; position:absolute; inset:-40% -40% auto auto; height:200px; width:200px;
  background: radial-gradient(100px 100px at 50% 50%, #66ccff25, transparent 70%);
  transform: translate(30%, -30%);
}
.kid-title{
  margin:0 0 6px; font-size: clamp(22px, 4vw, 34px);
  text-shadow: 0 2px 0 #001127, 0 8px 26px #001127a8, 0 0 18px #77d2ff30;
}
.kid-sub{ margin:.2rem 0 1rem; opacity:.9 }
.points{ display:grid; gap:10px; margin:10px 0 2px; }
.point{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px;
  background:#0a244dcc; border:1px solid #1b4f93;
}
.point .dot{
  width:14px; height:14px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, var(--glow2), var(--glow));
  box-shadow: 0 0 12px var(--glow), inset 0 0 10px #ffffff40;
}

/* ========== BUTTONS & POPUP ========== */
.actions{ display:flex; flex-wrap:wrap; gap:12px; margin-top:12px; }
.btn{
  appearance:none; border:none; cursor:pointer; font-weight:800;
  color:#02223f; background: var(--white);
  padding:12px 18px; border-radius:16px;
  box-shadow: var(--shadow);
  transition: transform .1s ease, filter .2s ease, box-shadow .2s ease;
}
.btn:hover{ transform: translateY(-2px) scale(1.02) }
.btn:active{ transform: translateY(0) scale(.98) }
.btn.primary{
  background: linear-gradient(90deg, #66ccff, #b3e5ff);
  color:#04203c; border:1px solid #1b4f93;
}
.btn.ghost{
  background: #0f2f62; color:#cdeaff; border:1px solid #1b4f93;
}
.btn.warn{
  background: linear-gradient(90deg, #ffd166, #fff1a8);
  color:#4a3000; border:1px solid #d0a64b;
}

.modal-backdrop{
  position:fixed; inset:0; background:#001024cc; display:none;
  align-items:center; justify-content:center; z-index:20; backdrop-filter: blur(2px);
}
.modal{
  width:min(560px, 90vw);
  background: linear-gradient(180deg, #082449, #0b2d5c);
  border: 4px dashed #66ccff; color:#e7f4ff;
  padding: 20px 18px; border-radius: 22px; text-align:center;
  box-shadow: 0 20px 60px rgba(0,0,0,.6), inset 0 0 24px #66ccff22;
  animation: pop .35s ease;
}
.modal h2{
  margin: 4px 0 6px;
  font-size: clamp(22px, 4.2vw, 30px);
  text-shadow: 0 2px 0 #001127, 0 8px 26px #001127a8, 0 0 18px #77d2ff30;
}
.modal p{ margin: 0 0 12px; opacity:.95 }
@keyframes pop{ 0%{ transform: scale(.85); opacity: 0 } 100%{ transform: scale(1); opacity: 1 } }

/* ========== ACCESSORIES: BALLOONS, STICKERS, CONFETTI ========== */
.stickers{
  display:flex; gap:8px; flex-wrap:wrap;
}
.stk{
  display:inline-flex; align-items:center; gap:6px;
  padding:8px 12px; border-radius:999px;
  border:1px solid #1b4f93;
  background:linear-gradient(180deg, #0e2b57, #0c264d);
  box-shadow: inset 0 0 12px #1b4f93, 0 0 10px #1b4f9330;
  font-weight:700; color:#cdeaff;
}
.stk .mini{
  display:inline-block; width:16px; height:16px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, #66ccff);
  box-shadow: 0 0 10px #66ccff;
}

.balloons{ position:relative; height:120px; margin-top:6px; }
.balloon{
  position:absolute; bottom:-8px; width:26px; height:36px; border-radius:50% 50% 50% 50%/55% 55% 45% 45%;
  background: radial-gradient(circle at 35% 30%, #ffffffaa 0%, #ffffff00 40%), var(--col,#66ccff);
  box-shadow: 0 8px 12px rgba(0,0,0,.25), 0 0 10px #66ccff55;
  animation: up 7s ease-in infinite;
}
.balloon:after{
  content:""; position:absolute; bottom:-14px; left:50%; width:1px; height:22px; background:#ffffff55;
}
@keyframes up{
  0%{ transform: translateY(10px) translateX(0) }
  50%{ transform: translateY(-18px) translateX(6px) }
  100%{ transform: translateY(10px) translateX(0) }
}

/* footer */
footer{ text-align:center; padding:24px; opacity:.85 }
footer small{ color:#b7dcff }
</style>
</head>
<body>

<!-- GLOBAL SKY FX -->
<div class="sky">
  <div class="twinkle"></div>
  <div class="shoot s1"></div>
  <div class="shoot s2"></div>
  <div class="shoot s3"></div>
</div>

<!-- CLOUDS PARALLAX (inline SVG for offline) -->
<div class="clouds" aria-hidden="true">
  <div class="cloud c1">
    <svg width="240" viewBox="0 0 240 110">
      <defs><linearGradient id="cg" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#1b4f93"/>
        <stop offset="100%" stop-color="#123b73"/>
      </linearGradient></defs>
      <path fill="url(#cg)" d="M40 80c-20 0-30-14-30-26s12-26 34-26c5-16 24-26 42-20 10-16 34-18 48-2 16-8 36-2 44 12 22-4 40 12 40 30s-14 32-34 32H40z"/>
    </svg>
  </div>
  <div class="cloud c2">
    <svg width="320" viewBox="0 0 320 120">
      <use href="#cg"></use>
      <path fill="url(#cg)" d="M40 90c-24 0-36-16-36-30s14-30 38-30c7-18 28-28 48-22 12-18 38-20 56-2 18-10 40-2 50 14 26-4 46 14 46 34s-16 36-40 36H40z"/>
    </svg>
  </div>
  <div class="cloud c3">
    <svg width="260" viewBox="0 0 260 120">
      <path fill="url(#cg)" d="M30 90c-20 0-30-14-30-26s12-26 34-26c5-16 24-26 42-20 10-16 34-18 48-2 16-8 36-2 44 12 22-4 40 12 40 30s-14 32-34 32H30z"/>
    </svg>
  </div>
  <div class="cloud c4">
    <svg width="180" viewBox="0 0 180 110">
      <path fill="url(#cg)" d="M20 80c-16 0-24-12-24-22s10-22 28-22c4-14 20-22 34-16 8-12 28-14 38-2 12-6 28-2 34 10 18-4 32 10 32 24s-12 26-28 26H20z"/>
    </svg>
  </div>
</div>

<!-- HEADER -->
<header class="header">
  <div class="ribbon">
    <div class="badges">
      <span class="badge">💙 KIANDRA</span>
      <span class="badge">✨ ALVARO</span>
      <span class="badge">🧒 THANOV</span>
    </div>
    <h1 class="title">HALO KINGDRA</h1>
  </div>
</header>

<!-- CONTENT -->
<main class="wrap">

  <section class="card">
    <div class="glow" aria-hidden="true"></div>
    <div class="grid">
      <!-- SCENE -->
      <div>
        <div class="scene">
          <div class="planet"></div>
          <div class="rings"></div>
          <div class="dust"></div>

          <!-- ROCKET (inline SVG) -->
          <svg class="rocket" viewBox="0 0 120 200" aria-label="Roket lucu">
            <!-- body -->
            <defs>
              <linearGradient id="rb" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#e7f4ff"/>
                <stop offset="100%" stop-color="#9ad7ff"/>
              </linearGradient>
            </defs>
            <path d="M60 6 C80 40 90 80 90 120 C90 160 70 190 60 194 C50 190 30 160 30 120 C30 80 40 40 60 6Z" fill="url(#rb)" stroke="#1b4f93" stroke-width="3"/>
            <!-- window -->
            <circle cx="60" cy="92" r="16" fill="#0b2a56" stroke="#66ccff" stroke-width="4"/>
            <circle cx="60" cy="92" r="8" fill="#b3e5ff"/>
            <!-- fins -->
            <path d="M30 130 C10 150 10 170 26 176 L34 146Z" fill="#ff7ad1" stroke="#992e73" stroke-width="3"/>
            <path d="M90 130 C110 150 110 170 94 176 L86 146Z" fill="#7ef5d8" stroke="#1a8a73" stroke-width="3"/>
            <!-- flame -->
            <g id="flame">
              <path d="M60 180 C48 188 48 200 60 198 C72 200 72 188 60 180Z" fill="#ffd166"/>
              <path d="M60 184 C54 188 54 195 60 194 C66 195 66 188 60 184Z" fill="#fff1a8"/>
            </g>
          </svg>

          <!-- PLANE -->
          <svg class="plane" viewBox="0 0 200 100" aria-label="Pesawat imut">
            <g filter="url(#f)">
              <path d="M10 60 L70 48 L120 52 L180 60 L120 68 L70 72 Z" fill="#4dd2ff" stroke="#1b4f93" stroke-width="3"/>
              <ellipse cx="70" cy="60" rx="20" ry="14" fill="#b3e5ff" stroke="#1b4f93" stroke-width="3"/>
              <rect x="46" y="52" width="18" height="16" rx="4" fill="#0b2a56" stroke="#66ccff" stroke-width="3"/>
            </g>
            <defs>
              <filter id="f">
                <feDropShadow dx="0" dy="3" stdDeviation="2" flood-color="#000" flood-opacity=".35"/>
              </filter>
            </defs>
          </svg>

          <!-- UFO -->
          <svg class="ufo" viewBox="0 0 160 100" aria-label="UFO lucu">
            <ellipse cx="80" cy="60" rx="60" ry="18" fill="#66ccff" stroke="#1b4f93" stroke-width="3"/>
            <ellipse cx="80" cy="40" rx="38" ry="18" fill="#b3e5ff" stroke="#1b4f93" stroke-width="3"/>
            <circle cx="40" cy="60" r="6" fill="#ffd166"/>
            <circle cx="60" cy="60" r="6" fill="#ffd166"/>
            <circle cx="80" cy="60" r="6" fill="#ffd166"/>
            <circle cx="100" cy="60" r="6" fill="#ffd166"/>
            <circle cx="120" cy="60" r="6" fill="#ffd166"/>
          </svg>
        </div>
      </div>

      <!-- TEXT / ACTIONS -->
      <div class="kid-panel">
        <h2 class="kid-title">hmzzz ceritanya mau ngucapin hari sabtu dan minggu </h2>
        <p class="kid-sub">liburan ini main kemana?💫</p>

        <div class="points">
          <div class="point"><span class="dot"></span>pantai <strong>funland</strong> hiking.</div>
          <div class="point"><span class="dot"></span>mall<strong>blang padang</strong>taman sari</div>
          <div class="point"><span class="dot"></span>musium tsunami <strong>kebun binatang</strong> pulang kampung &lt;33”.</div>
        </div>

        <div class="stickers" style="margin:10px 0 4px">
          <span class="stk"><span class="mini"></span> #boboiboy</span>
          <span class="stk"><span class="mini"></span> #blaze</span>
          <span class="stk"><span class="mini"></span> #optimusprime</span>
          <span class="stk"><span class="mini"></span> #KIANDRA</span>
          <span class="stk"><span class="mini"></span> #MESSI</span>
        </div>

        <div class="balloons" id="balloons"></div>

        <div class="actions">
          <button class="btn primary" id="btnHearts">🌟 Hujan Bintang</button>
          <button class="btn ghost" id="btnConfetti">🎉 Confetti Langit</button>
          <button class="btn warn" id="btnMsg">💌 Tampilkan Pesan</button>
        </div>
      </div>
    </div>
  </section>

  <!-- EXTRA CARD: Sticker Row -->
  <section class="card">
    <div class="glow" aria-hidden="true"></div>
    <div style="display:grid; gap:12px; justify-items:center; text-align:center">
      <h3 style="margin:0; font-size: clamp(18px, 3.6vw, 26px)">Aksesoris Tambahan</h3>
      <p style="margin:0 0 6px; opacity:.9">Klik area halaman untuk jejak bintang. Geser kursor: ada kelap-kelip tipis ✨</p>
      <div id="stickerRow" style="display:flex; flex-wrap:wrap; gap:10px; justify-content:center"></div>
    </div>
  </section>

</main>

<!-- MODAL -->
<div class="modal-backdrop" id="backdrop" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <h2 id="modalTitle">🎉 HAPPY WEEKEND &lt;33 🎉</h2>
    <p>Selamat bermain diliburan kali ini, ayo main bareng bareng waktu kakak pulang ya <33! 💙✨</p>
    <div style="display:flex; gap:10px; justify-content:center">
      <button class="btn primary" id="closeModal">Tutup</button>
      <button class="btn ghost" id="moreSpark">Tambah Glitter</button>
    </div>
  </div>
</div>

<footer>
  <small>Dibuat dengan 💙 dan banyak bintang—semua offline siap jalan.</small>
</footer>

<script>
/* ===== Helpers ===== */
const rand = (a,b)=> Math.random()*(b-a)+a;
const pick = arr => arr[Math.floor(Math.random()*arr.length)];

/* ===== Balloons (bintang-balon) ===== */
(function spawnBalloons(){
  const wrap = document.getElementById('balloons');
  const cols = ['#66ccff','#7ef5d8','#ffd166','#ff7ad1','#b3e5ff'];
  for(let i=0;i<12;i++){
    const b = document.createElement('div');
    b.className='balloon';
    b.style.left = rand(2, 94)+'%';
    b.style.animationDelay = rand(0,6)+'s';
    b.style.setProperty('--col', pick(cols));
    wrap.appendChild(b);
  }
})();

/* ===== Sticker Row (ikon mini svg, offline) ===== */
(function stickers(){
  const container = document.getElementById('stickerRow');
  const icons = [
    {emoji:'🛸', label:'UFO'},
    {emoji:'🚀', label:'Rocket'},
    {emoji:'✈️', label:'Plane'},
    {emoji:'🪐', label:'Planet'},
    {emoji:'⭐', label:'Star'},
    {emoji:'🌙', label:'Moon'},
    {emoji:'☁️', label:'Cloud'},
    {emoji:'🎈', label:'Balloon'}
  ];
  for(const it of icons){
    const el = document.createElement('div');
    el.className='stk';
    el.innerHTML = `<span class="mini"></span> ${it.emoji} ${it.label}`;
    container.appendChild(el);
  }
})();

/* ===== Modal & Buttons ===== */
const btnHearts = document.getElementById('btnHearts');
const btnConfetti = document.getElementById('btnConfetti');
const btnMsg = document.getElementById('btnMsg');
const backdrop = document.getElementById('backdrop');
const closeModal = document.getElementById('closeModal');
const moreSpark = document.getElementById('moreSpark');

/* Audio: soft chime */
function tinyChime(){
  try{
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const now = ctx.currentTime;
    const notes = [659.25, 523.25, 783.99]; // E5, C5, G5
    notes.forEach((f,i)=>{
      const o = ctx.createOscillator(); const g = ctx.createGain();
      o.type='sine'; o.frequency.value=f;
      o.connect(g); g.connect(ctx.destination);
      const t0 = now + i*0.03;
      g.gain.setValueAtTime(0, t0);
      g.gain.linearRampToValueAtTime(0.22, t0 + 0.02);
      g.gain.exponentialRampToValueAtTime(0.0001, t0 + 0.5);
      o.start(t0); o.stop(t0 + 0.52);
    });
  }catch(e){}
}

/* Star burst */
function starBurst(x,y,amount=20){
  for(let i=0;i<amount;i++){
    const s=document.createElement('div');
    s.style.position='fixed';
    s.style.left= x + rand(-40,40)+'px';
    s.style.top = y + rand(-40,40)+'px';
    s.style.width = s.style.height = rand(4,8)+'px';
    s.style.borderRadius='50%';
    s.style.background='white';
    s.style.boxShadow='0 0 12px #fff, 0 0 20px #b3e5ff';
    s.style.pointerEvents='none';
    s.style.opacity='0';
    s.style.transform=`translate(0,0) scale(.4)`;
    s.style.transition='transform .9s ease-out, opacity .9s ease-out';
    document.body.appendChild(s);
    requestAnimationFrame(()=>{
      s.style.opacity='1';
      s.style.transform=`translate(${rand(-20,20)}px, ${rand(-80,-20)}px) scale(1.6)`;
    });
    setTimeout(()=> s.remove(), 950);
  }
}

/* Confetti (sky colors) */
function confetti(x,y,amount=80){
  const colors=['#66ccff','#b3e5ff','#ffd166','#7ef5d8','#ff7ad1'];
  for(let i=0;i<amount;i++){
    const c=document.createElement('div');
    c.style.position='fixed';
    c.style.left=x+'px'; c.style.top=y+'px';
    c.style.width=rand(6,10)+'px'; c.style.height=rand(6,14)+'px';
    c.style.background=pick(colors);
    c.style.transform=`translate(${rand(-4,4)}px,0) rotate(${rand(0,360)}deg)`;
    c.style.opacity='0.95';
    c.style.borderRadius = Math.random()>.5 ? '2px' : '50%';
    c.style.boxShadow='0 0 8px #00000030';
    c.style.pointerEvents='none';
    c.style.transition='transform 1.2s ease-out, opacity 1.2s ease-out';
    document.body.appendChild(c);
    requestAnimationFrame(()=>{
      c.style.transform=`translate(${rand(-180,180)}px, ${rand(-60,180)}px) rotate(${rand(180,720)}deg)`;
      c.style.opacity='0';
    });
    setTimeout(()=> c.remove(), 1250);
  }
}

/* Modal controls */
btnMsg.addEventListener('click', ()=>{
  backdrop.style.display='flex';
  tinyChime();
});
closeModal.addEventListener('click', ()=> backdrop.style.display='none');
backdrop.addEventListener('click', (e)=>{ if(e.target===backdrop) backdrop.style.display='none' });
moreSpark.addEventListener('click', (e)=>{
  const rect = e.target.getBoundingClientRect();
  starBurst(rect.left + rect.width/2 + window.scrollX, rect.top + rect.height/2 + window.scrollY, 36);
});

/* Buttons FX */
btnHearts.addEventListener('click', (e)=>{
  const r = e.target.getBoundingClientRect();
  const x = r.left + r.width/2 + window.scrollX;
  const y = r.top + r.height/2 + window.scrollY;
  starBurst(x,y,28);
  tinyChime();
});
btnConfetti.addEventListener('click', (e)=>{
  const r = e.target.getBoundingClientRect();
  const x = r.left + r.width/2 + window.scrollX;
  const y = r.top + r.height/2 + window.scrollY;
  confetti(x,y,90);
});

/* Pointer trail */
window.addEventListener('pointermove', (e)=>{
  if(Math.random()<0.12){
    const dot=document.createElement('div');
    dot.style.position='fixed';
    dot.style.left=e.pageX+'px'; dot.style.top=e.pageY+'px';
    dot.style.width=dot.style.height='4px';
    dot.style.borderRadius='50%';
    dot.style.background='#fff';
    dot.style.boxShadow='0 0 8px #b3e5ff, 0 0 14px #66ccff';
    dot.style.pointerEvents='none';
    dot.style.opacity='.9';
    dot.style.transform='translateY(0)';
    dot.style.transition='transform .8s ease-out, opacity .8s ease-out';
    document.body.appendChild(dot);
    requestAnimationFrame(()=>{
      dot.style.transform='translateY(-30px)';
      dot.style.opacity='0';
    });
    setTimeout(()=> dot.remove(), 800);
  }
});

/* Click anywhere to sparkle */
window.addEventListener('click', (e)=>{
  if(!backdrop.contains(e.target)){
    starBurst(e.pageX, e.pageY, 18);
  }
});
</script>
</body>
</html>